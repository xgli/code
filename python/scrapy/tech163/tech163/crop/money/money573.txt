京东 构建 多 中心 交易 系统   确保 11.11 用户 体验 
2015年 10月 ， 技术 研发 管理 部 “ 多 交易 项目 ” （ 一 期 ） 成功 通过 验收 投入 使用 。 这 也 意味着 ， 京东 多 中心 开始 在 11.11 前夕 投入 使用 。 它 不仅 可 提升 京东 异地 容 灾 能力 ， 更 可 提升 全国 京东 用户 的 访问 速度 ， 实现 就近 访问 ， 为 京东 11.11 电 商 节 带来 更 可靠 的 保障 与 更 出色 的 。 缘起 ： 京东 构建 多 中心 交易 系统 多 中心 系统 听 起来 很 玄妙 ， 其实 非常 接地 气 。 我们 可以 想象 一个 庞大 的 城市 ， 如果 只 有 市中心 一个 大型 加油站 ， 所有 车主 都 要 去 这里 加油 ， 一方面 容易 造成 交通 堵塞 ， 另一方面 一旦 这个 加油站 出 问题 ， 整个 城市 的 交通 就要 瘫痪 了 ； 于是 ， 每个 城市 都 会 有 很多 加油站 ， 设立 在 人口 密集 或是 交通 枢纽 附近 ， 车主 们 就 近 加油 ， 方便 了 很多 ， 加油站 也 可以 互为 备份 ， 出 了 故障 用户 可以 迅速 换 到 另 一个 加油站 ， 整个 城市 的 交通 更 可靠 了 。 伴随 着 京东 业务 的 高速 发展 ， 京东 “ 多 中心 交易 项目 ” （ 一 期 ） 也 投入 立项 与 开发 实施 。 随着 一 期 项目 的 顺利 部署 ， 整个 交易 系统 原有 的 容量 压力 得到 了 解决 ； 对于 促销 价格 、 优惠券 等 对 数据 要求 强 一致性 的 服务 ， 也 不 会 因 主机房 网络 故障 等 原因 无法 提供 服务 ， 确保 了 数据 的 强 一致性 ； 多 中心 交易 系统 的 容 灾 能力 得到 了 极大 地 增强 ， 在 面临 如 地震 、 城际 骨干 光缆 被 挖 断 等 极端 的 情况 下 ， 也 能够 确保 用户 正常 而 流畅 地 在 京东 完成 购物 。 正是 出于 以上 若干 原因 的 综合 考虑 ， 京东 技术 研发 部门 提出 了 构建 多 中心 交易 系统 的 设想 。 项目 旨在 通过 构建 多 中心 交易 系统 ， 突破 同 城 机房 扩容 的 技术 瓶颈 ， 实现 交易 能力 随 业务 的 发展 而 水平 扩展 ， 并 实现 京东 交易 平台 的 异地 容 灾 与 备份 。 同时 ， 实现 用户 就近 机房 访问 ， 提升 用户 交易 过程 中 的 体验 。 实现 ： 多 交易 中心 按 买家 地域 分流 多 中心 交易 系统 设计 类似 实体 商 超 ， 多 个 交易 中心 按 用户 分流 ， 建 在 不同 地区 ， 用户 访问 本 地区 的 交易 中心 。 不仅 响应 速度 快 ， 用户 体验 更 好 ， 不用 跨 地域 访问 数据 中心 ； 并且 每个 中心 服务 一定 数量 的 用户 ， 水平 扩展性 好 ， 进一步 降低 单个 中心 的 数据 压力 ， 能 支撑 更 大 的 交易 规模 ， 让 用户 在 11.11 电 商 节 期间 也 同样 获得 优秀 的 用户 体验 。 除此之外 ， 它 也 满足 了 京东 国际化 的 需求 ， 可 支持 实现 异地 容 灾 ， 降低 灾难 的 影响 和 风险 ， 更加 安全 。  多 中心 交易 系统 架构 ， 包括 数 个 主 中心 和 多 个 分 中心 ， 主 中心 与 分中心 之间 完成 实时 交换 数据 。 主 数据 （ 商品 数据 、 商 家 数据 、 用户 数据 等 ） 的 流向 从 主 中心 通过 数据 总线 实时 同步 到 分中心 ， 分中心 只 读 ； 交易 数据 （ 订单 数据 ） 的 流向 从 分中心 实时 同步 到 主 中心 ； 故障 时 ， 分中心 转移 到 主 中心 。 驱动 ： 京东 技术 研发 为 11.11 电 商 节 保驾 护航 为了 配合 京东 业务 的 快速 增长 ， 京东 在 年 中 宣布 了 多 中心 交易 系统 的 战略 项目 。 旨在 通过 优化 交易 系统 的 技术 架构 ， 提高 系统 的 扩展 能力 和 容 灾 水平 ， 支撑 业务 的 高速 发展 。 这 不仅 涉及 交易 平台 各 系统 的 升级 ， 同时 也 涉及 上下游 诸多 系统 的 改造 ， 项目 面临 着 大量 挑战 ， 是 一个 需要 多 部门 协作 、 持续 时间 很 长 的 项目 。 项目 组 从 618 之后 就 持续 进行 了 方案 讨论 和 设计 。 11.11 电 商 节 期间 ， 各 品类 商品 都 在 争相 进行 促销 ， 涉及 大量 商品 数据 的 变更 。 交易 系统 的 数据 部分 ， 是 多 中心 项目 中 的 难点 。 首先 是 如何 保证 11.11 期间 数据 的 即时 性 和 准确性 。 多 中心 之间 需要 同步 卖家 数据 和 商品 数据 ， 如果 同步 的 延 时 太 长 ， 买家 、 卖 家 都 不可 接受 。 同样 ， 数据 正确性 也 是 很 大 的 挑战 ， 数据 写 错 了 无法 恢复 。 其次 ， 要 保障 用户 从 进入 京东 商城 到 浏览 商品 、 到 访问 数据库 ， 全 链 路 的 路 由 规则 都 是 完全 一致 的 。 在 谈及 技术 与 业务 的 联动 时 ， 京东 技术 研发 部门 表示 ， 将 按照 全年 11.11 以来 系统 峰值 量 的 20 倍 作为 备战 目标 。 从 架构 和 细节 的 提升 来 改善 架构 升级 改造 和 资源 优化 ， 同时 也 将 着重 提升 移动 端 的 资源 配 比 ， 进行 渠道 隔离 ， 让 用户 拥有 更 可靠 的 体验 。 业 界 人士 认为 ， 京东 构架 多 中心 交易 系统 ， 反映 了 京东 技术 驱动 的 特征 ， 为 京东 业务 的 高速 成长 和 优质 用户 体验 提供 了 保障 。 可以 相信 ， 在 京东 多 中心 交易 系统 的 布局 下 ， 不仅 可以 提升 全国 京东 用户 的 访问 速度 ， 实现 就近 访问 ， 更加 增强 京东 的 扩容 能力 、 容 灾 备份 能力 ， 为 京东 11.11 电 商 节 带来 更 高 的 运营 保障 与 更 好 用户 体验 。 